{% block content %}
{% load static %}


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


<style>
    .center-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }

    .dropdown,
    .btn-primary {
        width: 150px;
    }


    .p-5{
        margin-top: -80px;
    }
</style>

<div class="p-4 bg-light">
    <a href="{% url 'about' %}" class="btn btn-md about" style="background-color: gray; color: white;">How it Works</a>
</div>
   



<div class="p-5 text-center bg-light">
    <div class="center-container">
        <h1 class="display-1">BiasFinder</h1>
        <h4 class="text-muted">Check How Current Media Views Topics</h4>
        <form id="countryForm" action="#" method="get">
            <input class="dropdown" style = "height:1cm" id="countryDropdown" name="country" rows="1" cols="50"
                placeholder="Enter a topic"></input>
        <!-- <select class="dropdown" id="countryDropdown"> 
            {% for country in countries %}
            <option value="{{ country }}">{{ country }}</option>
            {% endfor %}
        </select> -->

            <button type="submit" style = "height:38px; margin-bottom:4px; width:3cm" class="btn btn-primary">Bias?</button>
        </form>
    </div>
</div>

<script>
    document.getElementById('countryForm').addEventListener('submit', function (e) {
        e.preventDefault();

        var selectedCountry = document.getElementById('countryDropdown').value;
        var baseURL = "http://127.0.0.1:8000/countryanalyzer/analyze-news/";

        window.location.href = baseURL + encodeURIComponent(selectedCountry);
    });
</script>
{% endblock %}